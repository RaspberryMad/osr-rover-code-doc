INA260Node ğŸš€ğŸ”‹
Nodo ROS 2 para monitorear y publicar el estado de la baterÃ­a utilizando el sensor INA260.

ğŸ“Œ Funciones principales:
âœ… Lee datos del sensor INA260 (voltaje, corriente).
âœ… Publica el estado de la baterÃ­a en el tÃ³pico /battery_state.
âœ… Permite ajustar dinÃ¡micamente la frecuencia de publicaciÃ³n mediante parÃ¡metros.

ğŸ“œ DescripciÃ³n de MÃ©todos
MÃ©todo	                            DescripciÃ³n
__init__()	                        Inicializa el nodo, configura parÃ¡metros y crea un publisher para /battery_state.
parameter_callback(parameters)	    Callback para actualizar parÃ¡metros dinÃ¡micamente, como el publish_rate.
publish_data()	                    Lee datos del INA260 (voltaje y corriente) y los publica en /battery_state como un mensaje BatteryState.

ğŸ” TÃ³picos publicadores
/battery_state: Publica un mensaje sensor_msgs/BatteryState con la informaciÃ³n de:
Voltaje (voltage).
Corriente (current).
TecnologÃ­a de la baterÃ­a (power_supply_technology - definido como LiPo).
ğŸ›  ConfiguraciÃ³n dinÃ¡mica
ParÃ¡metros ajustables:
sensor_address: DirecciÃ³n del sensor INA260 en el bus I2C (por defecto, 0x40).
publish_rate: Frecuencia de publicaciÃ³n en Hz (por defecto, 2.0 Hz).
Actualizar frecuencia de publicaciÃ³n: Puedes ajustar el parÃ¡metro publish_rate en tiempo de ejecuciÃ³n, y el nodo actualizarÃ¡ automÃ¡ticamente su temporizador:
ros2 param set /ina260_node publish_rate 5.0
ğŸ“¤ Ejemplo para ver el estado de la baterÃ­a
Comando para escuchar el tÃ³pico /battery_state:
ros2 topic echo /battery_state
Lo que hace este cÃ³digo:
InicializaciÃ³n:

Configura el sensor INA260 usando la direcciÃ³n I2C definida en el parÃ¡metro sensor_address.
Establece la frecuencia de publicaciÃ³n (publish_rate).
Lectura de datos:

Obtiene los valores de voltaje y corriente del sensor INA260.
PublicaciÃ³n:

Publica esta informaciÃ³n en el tÃ³pico /battery_state como mensajes sensor_msgs/BatteryState.
ReconfiguraciÃ³n dinÃ¡mica:

Permite cambiar la frecuencia de publicaciÃ³n (publish_rate) en tiempo de ejecuciÃ³n sin reiniciar el nodo.
ğŸ”§ Servicios y parÃ¡metros disponibles
Servicio o ParÃ¡metro	DescripciÃ³n
/ina260_node/get_parameters	Consulta los parÃ¡metros actuales del nodo (ejemplo: sensor_address, publish_rate).
/ina260_node/set_parameters	Modifica los parÃ¡metros dinÃ¡micamente (ejemplo: actualizar la frecuencia de publicaciÃ³n).
/ina260_node/list_parameters	Lista los parÃ¡metros disponibles para este nodo.
Ejemplo de uso
Ver los parÃ¡metros actuales del nodo:
ros2 service call /ina260_node/get_parameters rcl_interfaces/srv/GetParameters "{names: ['sensor_address', 'publish_rate']}"
Cambiar la frecuencia de publicaciÃ³n:
ros2 service call /ina260_node/set_parameters rcl_interfaces/srv/SetParameters "{parameters: [{name: 'publish_rate', value: {type: 2, double_value: 5.0}}]}"
ğŸš€ ConclusiÃ³n
âœ… Este cÃ³digo es un nodo dedicado al monitoreo de la baterÃ­a del rover.
âœ… Proporciona lecturas en tiempo real del voltaje y la corriente.
âœ… Permite ajustar dinÃ¡micamente la frecuencia de publicaciÃ³n segÃºn las necesidades.
âœ… Es Ãºtil para monitorear el consumo energÃ©tico del rover y puede integrarse con otros nodos, como los de navegaciÃ³n o diagnÃ³stico.