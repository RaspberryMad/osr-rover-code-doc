rover.py ğŸš€ğŸ¤–
Coordina el movimiento general del rover.
ğŸ“Œ Funciones principales:
âœ… Recibe comandos de velocidad en /cmd_vel y /cmd_vel_intuitive para mover el rover.
âœ… Publica comandos a los motores de tracciÃ³n y direcciÃ³n en /cmd_drive y /cmd_corner.
âœ… Calcula la cinemÃ¡tica y publica la odometrÃ­a en /odom.
âœ… Publica el radio de giro en /turning_radius.
âœ… Escucha el estado de los motores en /drive_state y /corner_state.
âŒ No controla directamente los motores ni los servos, solo los coordina.

ğŸ“œ DescripciÃ³n de MÃ©todos
MÃ©todo	                                                DescripciÃ³n
__init__()	                                            Inicializa el nodo, configura los parÃ¡metros del rover y crea publishers/subscribers.
cmd_cb(twist_msg, intuitive)	                        Callback que recibe comandos de velocidad en /cmd_vel y calcula los comandos para las ruedas.
enc_cb(msg)	                                            Callback que recibe actualizaciones del estado de los motores y calcula la cinemÃ¡tica inversa.
calculate_drive_velocities(speed, radius)	            Calcula las velocidades de cada rueda en funciÃ³n de la velocidad deseada y el radio de giro.
calculate_corner_positions(radius)	                    Calcula los Ã¡ngulos de las ruedas para girar con un radio especÃ­fico.
calculate_rotate_in_place_cmd(twist)	                Calcula los comandos para girar en el sitio (sin desplazamiento).
twist_to_turning_radius(twist, clip, intuitive_mode)	Convierte un comando de velocidad (Twist) en un radio de giro realista.
forward_kinematics()	                                Calcula la velocidad actual del rover a partir de los encoders de los motores.
main()	                                                Inicializa el nodo y lo mantiene en ejecuciÃ³n con rclpy.spin().

ğŸ” 1. Ver el estado actual del rover
El rover publica su odometrÃ­a en /odom y su radio de giro en /turning_radius.
ğŸ“¤ Comando para ver la odometrÃ­a en vivo
ros2 topic echo /odom
ğŸ“¤ Comando para ver el radio de giro
ros2 topic echo /turning_radius - NO SE COMO VA
ğŸ’¡ La odometrÃ­a es Ãºtil para saber la posiciÃ³n y orientaciÃ³n del rover en el espacio.
Lo que hace este cÃ³digo:
Recibe datos de los encoders (posiciones y velocidades de las ruedas) de los tÃ³picos /drive_state y /corner_state.
Calcula la odometrÃ­a:
La posiciÃ³n global (x, y) del rover.
La orientaciÃ³n global (theta) del rover.
Velocidades lineal y angular.
Publica los resultados:
En el tÃ³pico /odom como un mensaje nav_msgs/Odometry.
En el sistema de transformaciones tf (odom -> base_link).
Permite que otros nodos, como SLAM o navegaciÃ³n, utilicen esta informaciÃ³n para:
Localizar al rover en un mapa.
Planificar rutas basadas en la posiciÃ³n actual.

ğŸ“¤ 2. Mover el rover con comandos de velocidad
El nodo rover traduce comandos de velocidad en /cmd_vel en comandos para las ruedas.
ğŸ“Œ Ejemplo para avanzar en lÃ­nea recta
ros2 topic pub /cmd_vel geometry_msgs/msg/Twist "{linear: {x: 0.5, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 0.0}}"
ğŸ“Œ Ejemplo para girar a la izquierda
ros2 topic pub /cmd_vel geometry_msgs/msg/Twist "{linear: {x: 0.3, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: 0.5}}"
ğŸ“Œ Ejemplo para girar en el sitio
ros2 topic pub /cmd_vel geometry_msgs/msg/Twist "{linear: {x: 0.0, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 1.0, z: 0.0}}"  - NO VA
ğŸ’¡ La diferencia entre angular.y y angular.z:

angular.y â†’ gira en el sitio.
angular.z â†’ curva mientras se mueve.
ğŸ® 3. Control intuitivo con joystick
Si controlas el rover manualmente, usa /cmd_vel_intuitive, que ajusta la direcciÃ³n de las ruedas automÃ¡ticamente.
ğŸ“Œ Ejemplo para controlar el rover con comandos intuitivos
ros2 topic pub /cmd_vel_intuitive geometry_msgs/msg/Twist "{linear: {x: 0.5, y: 0.0, z: 0.0}, angular: {x: 0.0, y: 0.0, z: -0.5}}"
ğŸ’¡ Este modo hace que el rover se comporte de forma mÃ¡s natural con un joystick.

ğŸ“¡ 4. Ver el estado de los motores y ruedas
El rover escucha el estado de los motores y las ruedas en /drive_state y /corner_state.
ğŸ“Œ Ver estado de las ruedas motrices
ros2 topic echo /drive_state
ğŸ“Œ Ver estado de las ruedas de direcciÃ³n
ros2 topic echo /corner_state
ğŸ’¡ Ãštil para diagnosticar problemas de alineaciÃ³n o control.

ğŸ”§ 5. Servicios Disponibles
El nodo rover tiene varios servicios para consultar o modificar configuraciones:
Servicio	            DescripciÃ³n
/rover/get_parameters	Consulta parÃ¡metros actuales.
/rover/set_parameters	Modifica parÃ¡metros en tiempo real.
/rover/list_parameters	Lista los parÃ¡metros disponibles.
ğŸ“Œ Ejemplo para ver los parÃ¡metros actuales del nodo rover:
ros2 service call /rover/get_parameters rcl_interfaces/srv/GetParameters "{names: ['enable_odometry']}"
ğŸ“Œ Ejemplo para habilitar la odometrÃ­a en tiempo real:
ros2 service call /rover/set_parameters rcl_interfaces/srv/SetParameters "{parameters: [{name: 'enable_odometry', value: {type: 1, bool_value: true}}]}"
ğŸ’¡ Si activas la odometrÃ­a, el rover publicarÃ¡ su posiciÃ³n en /odom.

ğŸš€ ConclusiÃ³n
âœ… Para mover el rover, publica en /cmd_vel o /cmd_vel_intuitive.
âœ… Para ver su estado actual, usa /odom, /drive_state y /corner_state.
âœ… Para ajustar la configuraciÃ³n, usa los servicios del nodo.